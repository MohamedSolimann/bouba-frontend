(self.webpackChunkboubaa=self.webpackChunkboubaa||[]).push([[78],{96078:function(t,e,r){"use strict";r.r(e),r.d(e,{CartModule:function(){return U}});var n=r(38583),o=r(8165),i=r(55855),c=r(10639),s=r(83583),a=r(52344),d=r(12320),g=r(92340),l=r(91841);let u=(()=>{class t{constructor(t){this.myHttp=t}sumbitOrder(t){return this.myHttp.post(`${g.N.protocol}://${g.N.host}:${g.N.port}/order`,t,{headers:{"Content-Type":"Application/JSON"}})}}return t.\u0275fac=function(e){return new(e||t)(c.LFG(l.eN))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var p=r(90665);function h(t,e){1&t&&(c.TgZ(0,"p",23),c._uU(1," Name is required "),c.qZA())}function m(t,e){1&t&&(c.TgZ(0,"p",23),c._uU(1," Mobile is required "),c.qZA())}function f(t,e){1&t&&(c.TgZ(0,"p",23),c._uU(1," Mobile is must be 11 numbers "),c.qZA())}function Z(t,e){1&t&&(c.TgZ(0,"p",23),c._uU(1," Region is required "),c.qZA())}function M(t,e){1&t&&(c.TgZ(0,"p",23),c._uU(1," Street is required "),c.qZA())}function x(t,e){1&t&&(c.TgZ(0,"p",23),c._uU(1," Floor is required "),c.qZA())}function C(t,e){1&t&&(c.TgZ(0,"p",23),c._uU(1," Appartment is required "),c.qZA())}function v(t,e){1&t&&(c.TgZ(0,"p",24),c._uU(1," Order Placed Successfully "),c.qZA())}function A(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"div",1),c.TgZ(1,"div",2),c.TgZ(2,"h2"),c._uU(3,"Order Info"),c.qZA(),c.TgZ(4,"div",3),c.TgZ(5,"label",4),c._uU(6,"Name"),c.qZA(),c.TgZ(7,"input",5,6),c.NdJ("ngModelChange",function(e){return c.CHM(t),c.oxw().username=e}),c.qZA(),c.YNc(9,h,2,0,"p",7),c.qZA(),c.TgZ(10,"div",3),c.TgZ(11,"label",8),c._uU(12,"Mobile"),c.qZA(),c.TgZ(13,"input",9,10),c.NdJ("ngModelChange",function(e){return c.CHM(t),c.oxw().mobile=e}),c.qZA(),c.YNc(15,m,2,0,"p",7),c.YNc(16,f,2,0,"p",7),c.qZA(),c.TgZ(17,"div",3),c.TgZ(18,"label",11),c._uU(19,"Address"),c.qZA(),c.TgZ(20,"input",12,13),c.NdJ("ngModelChange",function(e){return c.CHM(t),c.oxw().region=e}),c.qZA(),c.YNc(22,Z,2,0,"p",7),c.TgZ(23,"input",14,15),c.NdJ("ngModelChange",function(e){return c.CHM(t),c.oxw().street=e}),c.qZA(),c.YNc(25,M,2,0,"p",7),c.TgZ(26,"input",16,17),c.NdJ("ngModelChange",function(e){return c.CHM(t),c.oxw().floor=e}),c.qZA(),c.YNc(28,x,2,0,"p",7),c.TgZ(29,"input",18,19),c.NdJ("ngModelChange",function(e){return c.CHM(t),c.oxw().appartment=e}),c.qZA(),c.YNc(31,C,2,0,"p",7),c.YNc(32,v,2,0,"p",20),c.TgZ(33,"div"),c.TgZ(34,"button",21),c.NdJ("click",function(){return c.CHM(t),c.oxw().handleSumbitOrder()}),c._uU(35," Place Order "),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c._UZ(36,"div",22),c.qZA()}if(2&t){const t=c.MAs(8),e=c.MAs(14),r=c.MAs(21),n=c.MAs(24),o=c.MAs(27),i=c.MAs(30),s=c.oxw();c.xp6(7),c.Q6J("ngModel",s.username),c.xp6(2),c.Q6J("ngIf",t.invalid&&(t.dirty||t.touched)),c.xp6(4),c.Q6J("ngModel",s.mobile),c.xp6(2),c.Q6J("ngIf",e.invalid&&(e.dirty||e.touched)),c.xp6(1),c.Q6J("ngIf",(null==e.errors?null:e.errors.minlength)&&(e.dirty||e.touched)),c.xp6(4),c.Q6J("ngModel",s.region),c.xp6(2),c.Q6J("ngIf",r.invalid&&(r.dirty||r.touched)),c.xp6(1),c.Q6J("ngModel",s.street),c.xp6(2),c.Q6J("ngIf",n.invalid&&(n.dirty||n.touched)),c.xp6(1),c.Q6J("ngModel",s.floor),c.xp6(2),c.Q6J("ngIf",o.invalid&&(o.dirty||o.touched)),c.xp6(1),c.Q6J("ngModel",s.appartment),c.xp6(2),c.Q6J("ngIf",i.invalid&&(i.dirty||i.touched)),c.xp6(1),c.Q6J("ngIf",!!s.responseMessage),c.xp6(2),c.Q6J("disabled",t.invalid||n.invalid||e.invalid||i.invalid||o.invalid||r.invalid)}}let q=(()=>{class t{constructor(t,e,r){this.cartBackendCalls=t,this.cookieService=e,this.myNavigation=r,this.cartProducts=[],this.mobile="",this.username="",this.street="",this.floor="",this.appartment="",this.region="",this.total=0,this.responseMessage="",this.getCookies("cart")}ngOnInit(){}getCartProductsTotal(){this.cartProducts.forEach(t=>{this.total+=parseInt(t.price)})}handleSumbitOrder(){this.getCartProductsTotal();let{username:t,region:e,street:r,floor:n,appartment:o,mobile:i,cartProducts:c,total:s}=this;this.cartBackendCalls.sumbitOrder({username:t,address:{region:e,street:r,floor:n,appartment:o},mobile:i,products:c,total:s}).subscribe(t=>{"Success"===t.message&&(this.responseMessage="Order Successfully",this.cookieService.delete("cart"),setTimeout(()=>{this.myNavigation.navigateByURL("/")},2e3))})}getAddress(t){this.region=t.region,this.street=t.address}getCookies(t){this.cookieService.check(t)&&(this.cartProducts=JSON.parse(this.cookieService.get(t)))}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(u),c.Y36(s.N),c.Y36(a.f))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-order-page"]],decls:1,vars:1,consts:[["class","row",4,"ngIf"],[1,"row"],[1,"col-md-4","order-info"],[1,"form-group"],["for","Username"],["type","text","id","Username","required","",1,"form-control",3,"ngModel","ngModelChange"],["usernameVar","ngModel"],["class","error",4,"ngIf"],["for","Mobile"],["type","text","id","Mobile","required","","minlength","11",1,"form-control",3,"ngModel","ngModelChange"],["mobileVar","ngModel"],["for","Address"],["type","text","id","Region","required","","placeholder","Region Ex:Giza",1,"form-control",3,"ngModel","ngModelChange"],["regionVar","ngModel"],["type","text","id","Street","required","","placeholder","Street Ex:dokki St",1,"form-control",3,"ngModel","ngModelChange"],["streetVar","ngModel"],["type","text","id","Floor","required","","placeholder","Floor Ex:3",1,"form-control",3,"ngModel","ngModelChange"],["floorVar","ngModel"],["type","text","id","Appartment","required","","placeholder","Appartment Ex:10",1,"form-control",3,"ngModel","ngModelChange"],["appartmentVar","ngModel"],["class","sucess",4,"ngIf"],[1,"btn","btn-primary","form-group",3,"disabled","click"],[1,"col-md-8"],[1,"error"],[1,"sucess"]],template:function(t,e){1&t&&c.YNc(0,A,37,15,"div",0),2&t&&c.Q6J("ngIf",0!==e.cartProducts.length)},directives:[n.O5,p.Fj,p.Q7,p.JJ,p.On,p.wO],styles:["h2[_ngcontent-%COMP%]{color:#ffa07a}label[_ngcontent-%COMP%]{margin:5px 0;color:blue}input[_ngcontent-%COMP%]{margin:10px 0}.sucess[_ngcontent-%COMP%]{color:green;font-weight:700;font-size:20px;margin:20px 0}.error[_ngcontent-%COMP%]{color:red;font-size:12px}"]}),t})();function _(t,e){1&t&&(c.TgZ(0,"p",5),c._uU(1," There is no items in the cart yet! "),c.qZA())}function T(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"div",10),c.TgZ(1,"div",11),c._UZ(2,"img",12),c.qZA(),c.TgZ(3,"div",13),c._uU(4),c.qZA(),c.TgZ(5,"div",13),c._uU(6),c.qZA(),c.TgZ(7,"div",13),c.TgZ(8,"button",14),c.NdJ("click",function(){const e=c.CHM(t).$implicit;return c.oxw(2).removeItemFromCart(e.name)}),c._uU(9," X "),c.qZA(),c.qZA(),c._UZ(10,"hr"),c.qZA()}if(2&t){const t=e.$implicit;c.xp6(2),c.Q6J("src",t.image,c.LSH),c.xp6(2),c.Oqu(t.price),c.xp6(2),c.Oqu(t.desc)}}function b(t,e){if(1&t&&(c.TgZ(0,"div",6),c.TgZ(1,"div",7),c.TgZ(2,"div",8),c._uU(3,"IMAGE"),c.qZA(),c.TgZ(4,"div",8),c._uU(5,"PRICE"),c.qZA(),c.TgZ(6,"div",8),c._uU(7,"TOTAL"),c.qZA(),c._UZ(8,"div",8),c.qZA(),c._UZ(9,"hr"),c.YNc(10,T,11,3,"div",9),c.qZA()),2&t){const t=c.oxw();c.xp6(10),c.Q6J("ngForOf",t.cartProducts)}}function P(t,e){if(1&t&&(c.TgZ(0,"div",15),c.TgZ(1,"h3"),c._uU(2,"Order Summary"),c.qZA(),c.TgZ(3,"p"),c.TgZ(4,"strong"),c._uU(5,"Items"),c.qZA(),c._uU(6),c.qZA(),c.TgZ(7,"p"),c.TgZ(8,"strong"),c._uU(9,"Total"),c.qZA(),c._uU(10),c._UZ(11,"br"),c._uU(12,"+"),c._UZ(13,"br"),c._uU(14,"Shipping Fees"),c.qZA(),c.qZA()),2&t){const t=c.oxw();c.xp6(6),c.hij(" : ",t.cartProducts.length,""),c.xp6(4),c.hij(" : ",t.total," ")}}const O=[{path:"",component:(()=>{class t{constructor(t,e){this.cookieService=t,this.myNaviagtion=e,this.cartProducts=[],this.total=0,this.cartCookies=[],this.getCookies("cart"),this.getCartTotal()}ngOnInit(){}removeItemFromCart(t){for(let e=0;e<this.cartProducts.length;e++)if(this.cartProducts[e].name===t)return this.cartProducts.splice(e,1),this.setCookies("cart",JSON.stringify(this.cartProducts)),this.cartProducts.length&&(this.total-=this.cartProducts[e].price),void this.myNaviagtion.refreshPage("cart")}getCartTotal(){this.cartProducts.forEach(t=>{this.total+=parseInt(t.price)})}getCookies(t){this.cookieService.check(t)&&(this.cartProducts=JSON.parse(this.cookieService.get(t)))}setCookies(t,e){this.cookieService.set(t,e)}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(s.N),c.Y36(a.f))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-cart-page"]],decls:7,vars:3,consts:[[1,"container"],[1,"row"],["class","cart-message",4,"ngIf"],["class","col-md-9",4,"ngIf"],["class","col-md-3 order-summary",4,"ngIf"],[1,"cart-message"],[1,"col-md-9"],["id","table-header",1,"row","table-head"],[1,"col-md-3","table-head-info"],["class","row table-data",4,"ngFor","ngForOf"],[1,"row","table-data"],[1,"col-md-3","product-img"],["alt","",1,"img-thumbnail",3,"src"],[1,"col-md-3","product-info"],[1,"btn","btn-primary",3,"click"],[1,"col-md-3","order-summary"]],template:function(t,e){1&t&&(c._UZ(0,"app-header"),c.TgZ(1,"div",0),c.TgZ(2,"div",1),c.YNc(3,_,2,0,"p",2),c.YNc(4,b,11,1,"div",3),c.YNc(5,P,15,2,"div",4),c.qZA(),c._UZ(6,"app-order-page"),c.qZA()),2&t&&(c.xp6(3),c.Q6J("ngIf",0===e.cartProducts.length),c.xp6(1),c.Q6J("ngIf",0!==e.cartProducts.length),c.xp6(1),c.Q6J("ngIf",0!==e.cartProducts.length))},directives:[d.G,n.O5,q,n.sg],styles:["img[_ngcontent-%COMP%]{width:200px}.table-head[_ngcontent-%COMP%]{margin-top:20px}.product-info[_ngcontent-%COMP%], .table-head-info[_ngcontent-%COMP%]{text-align:center}.product-info[_ngcontent-%COMP%]{padding-top:60px;font-size:20px;font-weight:700}.product-img[_ngcontent-%COMP%]{text-align:center}.table-data[_ngcontent-%COMP%]{margin-top:10px}.order-summary[_ngcontent-%COMP%]{align-items:center;border:1px solid #d3d3d3;border-radius:2px;background-color:#f7f7f7;margin-top:62px;height:200px}.order-summary[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{text-align:center}.form-group[_ngcontent-%COMP%]{margin:20px 0}label[_ngcontent-%COMP%]{margin:10px 0;color:#000}h3[_ngcontent-%COMP%]{padding:10px;color:#ffa07a}hr[_ngcontent-%COMP%]{margin:20px 0}.cart-message[_ngcontent-%COMP%]{padding-top:20px;text-align:center}@media(max-width:762px){#table-header[_ngcontent-%COMP%]{display:none}}"]}),t})()}];let y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[i.Bz.forChild(O)]]}),t})(),U=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({providers:[s.N],imports:[[n.ez,p.u5,y,o.CoreModule]]}),t})()}}]);