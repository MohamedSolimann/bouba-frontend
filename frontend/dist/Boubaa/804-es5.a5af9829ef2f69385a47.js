!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}(self.webpackChunkboubaa=self.webpackChunkboubaa||[]).push([[804],{5804:function(e,n,c){"use strict";c.r(n),c.d(n,{ProductModule:function(){return k}});var r=c(8583),i=c(8165),u=c(5855),s=c(639),a=c(1841),d=function(){var e=function(){function e(o){t(this,e),this.myHttp=o}return o(e,[{key:"getAllProducts",value:function(){return this.myHttp.get("http://18.157.177.129:8080/products",{headers:{"Content-Type":"Application/Json"}})}},{key:"getProductByCategory",value:function(t,e,o){return this.myHttp.get("http://18.157.177.129:8080/products/category/".concat(t,"/").concat(e,"/").concat(o),{headers:{"Content-Type":"Application/Json"}})}},{key:"updateProduct",value:function(t,e){return this.myHttp.put("http://18.157.177.129:8080/products/".concat(t),e,{headers:{"Content-Type":"Application/Json"}})}},{key:"removeProduct",value:function(t){return this.myHttp.delete("http://18.157.177.129:8080/products/".concat(t))}},{key:"addProduct",value:function(t){return this.myHttp.post("http://18.157.177.129:8080/products",t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.LFG(a.eN))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),g=c(3583),p=c(2344),l=c(2320),h=c(665);function f(t,e){if(1&t){var o=s.EpF();s.TgZ(0,"button",9),s.NdJ("click",function(){s.CHM(o);var t=s.oxw().$implicit;return s.oxw().getProductid(t)}),s._uU(1," Get Product Id "),s.qZA()}}function y(t,e){if(1&t){var o=s.EpF();s.TgZ(0,"div",5),s._UZ(1,"img",6),s.TgZ(2,"p",7),s._uU(3),s.qZA(),s.TgZ(4,"p",8),s._uU(5),s.qZA(),s.TgZ(6,"button",9),s.NdJ("click",function(){var t=s.CHM(o).$implicit;return s.oxw().addToCart(t)}),s._uU(7," Addt To Cart "),s.qZA(),s.YNc(8,f,2,0,"button",10),s.qZA()}if(2&t){var n=e.$implicit,c=s.oxw();s.xp6(1),s.Q6J("src",n.image,s.LSH),s.xp6(2),s.hij("",n.price,".0EGP"),s.xp6(2),s.Oqu(n.desc),s.xp6(3),s.Q6J("ngIf",c.token)}}function m(t,e){if(1&t){var o=s.EpF();s.TgZ(0,"div"),s.TgZ(1,"h3"),s._uU(2,"Admin Panel"),s.qZA(),s.TgZ(3,"div"),s.TgZ(4,"label",11),s._uU(5,"Product-Id : "),s.qZA(),s.TgZ(6,"input",12),s.NdJ("ngModelChange",function(t){return s.CHM(o),s.oxw().productId=t}),s.qZA(),s.TgZ(7,"p"),s._uU(8,"Product id used for update and remove products only"),s.qZA(),s.qZA(),s.TgZ(9,"div"),s.TgZ(10,"label",13),s._uU(11,"Price : "),s.qZA(),s.TgZ(12,"input",14),s.NdJ("ngModelChange",function(t){return s.CHM(o),s.oxw().price=t}),s.qZA(),s.qZA(),s.TgZ(13,"div"),s.TgZ(14,"label",15),s._uU(15,"Desc : "),s.qZA(),s.TgZ(16,"input",16),s.NdJ("ngModelChange",function(t){return s.CHM(o),s.oxw().desc=t}),s.qZA(),s.qZA(),s.TgZ(17,"div"),s.TgZ(18,"label",17),s._uU(19,"Stock : "),s.qZA(),s.TgZ(20,"input",18),s.NdJ("ngModelChange",function(t){return s.CHM(o),s.oxw().stock=t}),s.qZA(),s.qZA(),s.TgZ(21,"div"),s.TgZ(22,"label",19),s._uU(23,"Product Category : "),s.qZA(),s.TgZ(24,"input",20),s.NdJ("ngModelChange",function(t){return s.CHM(o),s.oxw().productCategory=t}),s.qZA(),s.qZA(),s.TgZ(25,"div"),s.TgZ(26,"label",21),s._uU(27,"Status : "),s.qZA(),s.TgZ(28,"input",22),s.NdJ("ngModelChange",function(t){return s.CHM(o),s.oxw().status=t}),s.qZA(),s.qZA(),s.TgZ(29,"div"),s.TgZ(30,"label",23),s._uU(31,"Code : "),s.qZA(),s.TgZ(32,"input",24),s.NdJ("ngModelChange",function(t){return s.CHM(o),s.oxw().code=t}),s.qZA(),s.qZA(),s.TgZ(33,"div"),s.TgZ(34,"label",25),s._uU(35,"Product Image : "),s.qZA(),s.TgZ(36,"input",26),s.NdJ("ngModelChange",function(t){return s.CHM(o),s.oxw().productImage=t}),s.qZA(),s.qZA(),s.TgZ(37,"p",27),s._uU(38),s.qZA(),s.TgZ(39,"button",28),s.NdJ("click",function(){return s.CHM(o),s.oxw().handleAddProduct()}),s._uU(40," Add Product "),s.qZA(),s.TgZ(41,"button",28),s.NdJ("click",function(){return s.CHM(o),s.oxw().handleRemoveProduct()}),s._uU(42," Remove Porduct "),s.qZA(),s.TgZ(43,"button",28),s.NdJ("click",function(){return s.CHM(o),s.oxw().handleUpdateProduct()}),s._uU(44," Update Porduct "),s.qZA(),s.qZA()}if(2&t){var n=s.oxw();s.xp6(6),s.Q6J("ngModel",n.productId),s.xp6(6),s.Q6J("ngModel",n.price),s.xp6(4),s.Q6J("ngModel",n.desc),s.xp6(4),s.Q6J("ngModel",n.stock),s.xp6(4),s.Q6J("ngModel",n.productCategory),s.xp6(4),s.Q6J("ngModel",n.status),s.xp6(4),s.Q6J("ngModel",n.code),s.xp6(4),s.Q6J("ngModel",n.productImage),s.xp6(2),s.Oqu(n.responseMessage)}}var Z,v=function(){var e=function(){function e(o,n,c,r){t(this,e),this.productBackendCalls=o,this.myActivedRouter=n,this.cookieService=c,this.myNavigation=r,this.products=[],this.category="",this.price="",this.desc="",this.stock="",this.status="",this.productId="",this.code="",this.productImage="",this.productCategory="",this.responseMessage="",this.product={},this.token=!1,this.page=1,this.limit=5,this.responseMessageAlert="",this.category=n.snapshot.params.category,this.handleGetProductsByCategory(this.page,this.limit),this.userAuthentication()}return o(e,[{key:"onScroll",value:function(t){document.documentElement.offsetHeight-document.documentElement.scrollTop==949&&(this.responseMessageAlert||this.handleGetProductsByCategory(this.page,this.limit))}},{key:"handleGetProductsByCategory",value:function(t,e){var o=this;this.productBackendCalls.getProductByCategory(this.category,t,e).subscribe(function(t){"Success"===t.message?o.products=o.products.concat(t.data):"No More"===t.message&&(o.products=o.products.concat(t.data),o.responseMessageAlert=t.message)}),this.page++}},{key:"addToCart",value:function(t){if(this.checkProductInCart(t))this.myNavigation.navigateByURL("cart");else{var e=this.cookieService.get("cart");if(e){var o=JSON.parse(e);o.push(t),this.cookieService.set("cart",JSON.stringify(o))}else this.cookieService.set("cart",JSON.stringify([t]));this.myNavigation.navigateByURL("cart")}}},{key:"checkProductInCart",value:function(t){var e=this.cookieService.get("cart");if(e)for(var o=JSON.parse(e),n=0;n<o.length;n++)if(o[n]._id===t._id)return!0;return!1}},{key:"getProductid",value:function(t){this.productId=t._id,this.product=t}},{key:"handleUpdateProduct",value:function(){var t=this,e=this.productId,o=this.price,n=this.stock,c=this.status,r=this.desc,i=this.productCategory,u=this.code,s=this.productImage;this.productBackendCalls.updateProduct(e,{price:o,stock:n,status:c,desc:r,category:i,code:u,image:s}).subscribe(function(e){"Updated Successfuly"===e.message&&(t.responseMessage=e.message,setTimeout(function(){t.myNavigation.refreshPage("/product/".concat(t.product.category))},1e3))})}},{key:"handleRemoveProduct",value:function(){var t=this;this.productBackendCalls.removeProduct(this.productId).subscribe(function(e){"Deleted Successfuly"===e.message&&(t.responseMessage=e.message,t.myNavigation.refreshPage("/product/".concat(t.product.category)))})}},{key:"handleAddProduct",value:function(){var t=this,e=this.price,o=this.stock,n=this.status,c=this.desc,r=this.productCategory,i=this.code,u=this.productImage;this.productBackendCalls.addProduct({price:e,stock:o,status:n,desc:c,category:r,code:i,image:u}).subscribe(function(e){"Created Successfuly"===e.message&&(t.responseMessage=e.message,setTimeout(function(){t.myNavigation.refreshPage("/product/".concat(t.category))},1e3))})}},{key:"userAuthentication",value:function(){this.token=this.cookieService.check("token")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Y36(d),s.Y36(u.gz),s.Y36(g.N),s.Y36(p.f))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-product-page"]],hostBindings:function(t,e){1&t&&s.NdJ("scroll",function(t){return e.onScroll(t)},!1,s.Jf7)},decls:6,vars:2,consts:[[3,"scroll"],["id","body",1,"container"],[1,"row"],["class","col-xl-4 product",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"col-xl-4","product"],["alt","",1,"img-thumbnail","product-image",3,"src"],[1,"product-price"],[1,"product-desc"],[1,"btn","btn-primary",3,"click"],["class","btn btn-primary",3,"click",4,"ngIf"],["for","productId"],["type","text","id","productId",3,"ngModel","ngModelChange"],["for","price"],["type","text","id","price",3,"ngModel","ngModelChange"],["for","desc"],["type","text","id","desc",3,"ngModel","ngModelChange"],["for","stock"],["type","text","id","stock",3,"ngModel","ngModelChange"],["for","productCategory"],["type","text","id","productCategory",3,"ngModel","ngModelChange"],["for","status"],["type","text","id","status",3,"ngModel","ngModelChange"],["for","code"],["type","text","id","code",3,"ngModel","ngModelChange"],["for","product-image"],["type","text","id","product-image",3,"ngModel","ngModelChange"],[1,"responseMessage"],[1,"btn","btn-success","admin-button",3,"click"]],template:function(t,e){1&t&&(s.TgZ(0,"body",0),s.NdJ("scroll",function(t){return e.onScroll(t)}),s._UZ(1,"app-header"),s.TgZ(2,"div",1),s.TgZ(3,"div",2),s.YNc(4,y,9,4,"div",3),s.qZA(),s.YNc(5,m,45,9,"div",4),s.qZA(),s.qZA()),2&t&&(s.xp6(4),s.Q6J("ngForOf",e.products),s.xp6(1),s.Q6J("ngIf",e.token))},directives:[l.G,r.sg,r.O5,h.Fj,h.JJ,h.On],styles:[".product[_ngcontent-%COMP%]{margin-top:20px;text-align:center}.product-image[_ngcontent-%COMP%]{height:400px}.product-name[_ngcontent-%COMP%]{margin-top:20px;font-size:20px}.product-price[_ngcontent-%COMP%]{font-weight:700;font-size:20px;padding-top:5px}.container[_ngcontent-%COMP%]{margin-top:20px}body[_ngcontent-%COMP%]{font-family:sans-serif}.addToCart[_ngcontent-%COMP%]{color:brown}.admin-button[_ngcontent-%COMP%]{margin:10px}.responseMessage[_ngcontent-%COMP%]{color:red}button[_ngcontent-%COMP%]{margin:10px}.img-thumbnail[_ngcontent-%COMP%]{border:none}"]}),e}(),C=[{path:"",component:v},{path:":category",component:v}],M=function(){var e=function e(){t(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[u.Bz.forChild(C)],u.Bz]}),e}(),k=((Z=function e(){t(this,e)}).\u0275fac=function(t){return new(t||Z)},Z.\u0275mod=s.oAB({type:Z}),Z.\u0275inj=s.cJS({providers:[g.N],imports:[[r.ez,h.u5,M,i.CoreModule]]}),Z)}}])}();